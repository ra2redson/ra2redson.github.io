document.addEventListener("DOMContentLoaded", function () {
    const langSwitcher = document.querySelectorAll(".lang-switch"); // Chọn các nút chuyển ngôn ngữ
    if (!langSwitcher) return;

    langSwitcher.forEach(button => {
        button.addEventListener("click", function (event) {
            event.preventDefault();

            // Lấy đường dẫn hiện tại
            let currentPath = window.location.pathname;

            // Nếu đang ở trang gốc ("/"), đổi sang trang chính tiếng Anh ("/eng/")
            if (currentPath === "/") {
                window.location.href = "/eng/";
                return;
            }

            // Nếu đang ở trang gốc tiếng Anh ("/eng/"), đổi về trang chính tiếng Việt ("/")
            if (currentPath === "/eng/") {
                window.location.href = "/";
                return;
            }

            // Xác định đang ở tiếng Anh hay tiếng Việt
            const isEnglish = currentPath.startsWith("/eng/");

            // Xóa "/eng/" nếu đang ở English để lấy trang tương ứng
            let targetPath = isEnglish
                ? currentPath.replace("/eng/", "/")  // Chuyển từ English về Việt
                : "/eng" + currentPath;             // Chuyển từ Việt sang English

            // Kiểm tra nếu targetPath có dấu "//" -> sửa thành "/"
            targetPath = targetPath.replace("//", "/");

            // Chuyển trang
            window.location.href = targetPath;
        });
    });
});
